<#bs4Body>
<!--<a href="javascript:;" id="goCustomerRegister">无此客户，点击注册</a>-->
    <div class="container-fluid">
        <input type="hidden" id="_sourceChannel" value="<#config name='ia.source.channel.meter'/>">
        <form id="saveForm" role="form" novalidate>

            <div class="breadcrumb" >
                表信息 <a href="javascript:;" class="ml-2" id="getCustomer"></a>
                <a href="javascript:;" class="ml-auto" data-toggle="collapse" data-target="#customerInfo" aria-expanded="true"
                   aria-controls="customerInfo">收起 <i class="fa fa-angle-double-up" aria-hidden="true"></i></a>
            </div>
            <div class="row row-cols-4 collapse show" id="customerInfo">
                <div class="form-group col">
                    <label for="number">表编号<i class="red">*</i></label>
                    <input type="text" class="form-control" id="number" name="number" required />
                </div>
                <div class="form-group col">
                    <label for="type">表类型<i class="red">*</i></label>
                    <select id="type"  name="type" class="form-control" required></select>
                    <#bcomboProvider _id="type" _provider="meterTypeProvider"/>
                </div>
                <div class="form-group col">
                    <label for="departmentId">部门<i class="red">*</i></label>
                    <select id="departmentId"  name="departmentId" class="form-control" required></select>
                    <#bcomboProvider _id="departmentId" _provider="authDepartmentProvider"/>
                </div>
                <div class="form-group col">
                    <label for="assetsId">类别<i class="red">*</i></label>
                    <select id="assetsId"  name="assetsId" class="form-control" required></select>
                    <#bcomboProvider _id="assetsId" _provider="assetsTypeProvider"/>
                </div>
<!--                <div class="form-group col">-->
<!--                    <label for="assetsName">表地址<i class="red">*</i></label>-->
<!--                    <input type="text" class="form-control" id="assetsName" name="assetsName" required />-->
<!--                </div>-->
                <div class="form-group col">
                    <label for="thisAmount">表初始值<i class="red">*</i></label>
                    <input type="text" class="form-control" id="thisAmount" name="thisAmount" required />
                </div>
            </div>

            <div class="breadcrumb">
                对应摊位
                <a href="javascript:;" class="ml-auto" data-toggle="collapse" data-target="#boothInfo" aria-expanded="true" aria-controls="boothInfo">收起 <i class="fa fa-angle-double-up" aria-hidden="true"></i></a>
            </div>
            <div id="boothInfo" class="collapse show">
                <table class="table table-bordered table-hover table-striped" id="boothTable" id="boothTable" style="width: 500px">
                    <thead>
                    <tr>
                        <th class="text-center align-middle" style="width: 5%"><a id="addBooth" href="javascript:;" style="padding: 8px 18px;"><i class="fa fa-plus-square fa-lg"></i></a></th>
                        <th style="width: 25%;font-weight:normal; ">表地址</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

            <div class="breadcrumb">
                金额信息
                <a href="javascript:;" class="ml-auto" data-toggle="collapse" data-target="#moneyInfo" aria-expanded="true" aria-controls="moneyInfo">收起 <i class="fa fa-angle-double-up" aria-hidden="true"></i></a>
            </div>
            <div class="row  row-cols-4 collapse show" id="moneyInfo">
                <div class="form-group col">
                    <label for="price" class="">单价<i class="red">*</i></label>
                    <input id="price" type="number" class="form-control floatReserve money"name="price" range="0 9999999.99" required />
                </div>
            </div>
            <div class="row">
                <div class="form-group col-8">
                    <label for="notes">备注</label>
                    <textarea id="notes" class="form-control" name="notes" rows="1" maxlength="100"></textarea>
                </div>
            </div>

            <div class="text-right btn-r-b">
                <button type="button" class="btn btn-secondary px-5" onclick="javascript: parent.dia.hide()">取消</button>
                <button type="button" class="btn btn-primary px-5" onclick="bui.util.debounce(doAddEarnestHandler,1000,true)()" id="formSubmit">保存</button>
            </div>

        </form>
    </div>

</#bs4Body>


<#js_customerAutocompleteJs/>

<#meter_addJs />

<script  id="boothItem"  type="text/html">
    <tr data-index="{{index}}">
        <td class="text-center align-middle"><a href="javascript:;" class="item-del" style="padding: 8px 18px;"><i class="fa fa-minus-square fa-lg"></i></a></td>
        <td style="padding: .25rem!important;">
            <#bautoCompleteProvider _escape="true" _hiddenDomainId="assetsId_{{index}}" _hiddenDomainName="assetsId_{{index}}" _displayDomainId="assetsName_{{index}}" _displayDomainName="assetsName_{{index}}" _value="{{boothId}}" _text="{{boothName}}"   _placeholder="" _validatorMethod="isSelected"  _optionVariable="boothAutoCompleteOption"/>
        </td>

    </tr>
</script>
