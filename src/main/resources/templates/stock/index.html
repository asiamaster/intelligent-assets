<#bs4Body>
<style>
    .w-100px{width: 100px!important;}

</style>
<!--
 内联元素:让元素排成一行显示出来，且高度和宽度由内容决定，不能用css控制
 块状元素:独立占一行
 内联元素与块状元素对立
 内联(inline)表单:表单排在一行显示，只有在from中指定  class="form-inline"即可让表单成内联显示
      一定要添加 label 标签
      如果你没有为每个输入控件设置 label 标签，屏幕阅读器将无法正确识别。对于这些内联表单，你可以通过为 label 设置 .sr-only 类将其隐藏。还有一些辅助技术提供label标签的替代方案，比如 aria-label、aria-labelledby 或 title 属性。如果这些都不存在，屏幕阅读器可能会采取使用 placeholder 属性，如果存在的话，使用占位符来替代其他的标记，但要注意，这种方法是不妥当的。
-->
<!--注意label中的for 与 input中的保持一致-->
<div class="container-fluid">
    <#bs4nav>
    <form id="queryForm" role="form" >
                <div class="row row-cols-6">
                    <div class="form-group col">
                        <label for="departmentId">部门</label>
                        <select id="departmentId" name="departmentId" class="form-control"></select>
                       <#bcomboProvider _id="departmentId" _provider="authDepartmentProvider" />
                    </div>
                    <div class="form-group col">
                        <label for="type">入库类型</label>
                        <select id="type" name="type" class="form-control">
                        <!-- <option selected >--请选择--</option>
                        <option value="1">整车入库</option>
                        <option value="2">零散入库</option>
                        <option value="3">司磅入库</option> -->
                        </select>
                    </div>
                    <div class="form-group col">
                        <label for="categoryId">品类<i class="red">*</i></label>
						<select id="categoryId" name="categoryId" class="form-control" required>
						</select>
						<#bselect2 _id="categoryId" _mode="remote" _optionVariable="categoryAutoCompleteOption" _value="[1]" />

                    </div>
                    <div class="form-group col">
                        <label for="state">状态</label>
                        <select id="state" name="state" class="form-control" required>
						</select>
                    </div>
                    
					<div class="form-group col">
					    <label for="customerName">客户姓名</label>
					    <input type="text" class="form-control" name="customerName" id="customerName" maxlength="50"/>
					</div>
					<div class="form-group col">
					    <label for="customerCellPhone">手机号</label>
					    <input type="text" class="form-control" name="customerCellPhone" id="customerCellPhone" maxlength="50"/>
					</div>
					<div class="form-group col">
					    <label for="operatorName">操作员</label>
					    <input type="text" class="form-control" name="operatorName" id="operatorName" maxlength="50"/>
					</div>

					
					<div class="form-group col-auto">
                        <label for="createdStart">创建时间</label>
                        <div class="form-inline">
                            <div class="input-group">
                                <input type="text" name="createdStart" id="createdStart" class="form-control date" value="${createdStart!,dateFormat='yyyy-MM-dd HH:mm:ss'}"/>
                                <div class="input-group-append">
                                    <label for="createdStart"  class="input-group-text fa fa-calendar"></label>
                                </div>
                            </div>&nbsp;&nbsp;至&nbsp;&nbsp;
                            <div class="input-group" id="datetimepicker3">
                                <input type="text" name="createdEnd" id="createdEnd" class="form-control date" value="${createdEnd!,dateFormat='yyyy-MM-dd HH:mm:ss'}"/>
                                <div class="input-group-append">
                                    <label for="createdEnd"  class="input-group-text fa fa-calendar"></label>
                                </div>
                            </div>
                        </div>
                    </div>
					<div class="form-group col-auto">
					    <label for="createdStart">到期时间</label>
					    <div class="form-inline">
					        <div class="input-group">
					            <input type="text" name="createdStart" id="createdStart" class="form-control date" value="${createdStart!,dateFormat='yyyy-MM-dd HH:mm:ss'}"/>
					            <div class="input-group-append">
					                <label for="createdStart"  class="input-group-text fa fa-calendar"></label>
					            </div>
					        </div>&nbsp;&nbsp;至&nbsp;&nbsp;
					        <div class="input-group" id="datetimepicker3">
					            <input type="text" name="createdEnd" id="createdEnd" class="form-control date" value="${createdEnd!,dateFormat='yyyy-MM-dd HH:mm:ss'}"/>
					            <div class="input-group-append">
					                <label for="createdEnd"  class="input-group-text fa fa-calendar"></label>
					            </div>
					        </div>
					    </div>
					</div>
                    <div class="col align-self-center mt-3">
                        <button id="clear" type="button" class="btn btn-outline-primary mr-2" onclick="javascript:$('#queryForm .form-control').val('');"><i class="fa fa-refresh"></i> 清空</button>
                        <button id="query" type="button" class="btn btn-outline-primary" onclick="queryDataHandler()"><i class="fa fa-search"></i> 查询</button>
                    </div>
                </div>

            </form>
</#bs4nav>
    <div class="row">
        <div class="col-12">
            <div id="toolbar" class="btn-group" role="group" aria-label="Toolbar with button groups">
				<button id="btn_view" type="button" class="btn btn-primary" onclick="openAddHandler(1)"><i class="fa fa-eye"></i> 整车入库</button>
                <button id="btn_view" type="button" class="btn btn-primary" onclick="openAddHandler(2)"><i class="fa fa-eye"></i> 零散入库</button>
				<button id="btn_view" type="button" class="btn btn-primary" onclick="openAddHandler(3)"><i class="fa fa-eye"></i> 司磅入库</button>
				<button id="btn_view" type="button" class="btn btn-primary" onclick="openViewHandler()"><i class="fa fa-eye"></i> 查看</button>
                
                <#resource code="updateLeaseOrder">
                <button id="btn_edit" type="button" class="btn btn-primary" onclick="openUpdateHandler()"><i class="fa fa-pencil-square-o"></i> 修改</button>
                </#resource>
                <#resource code="cancelLeaseOrder">
                <button id="btn_cancel" type="button" class="btn btn-primary" onclick="openCancelHandler()"><i class="fa fa-ban"></i> 取消</button>
                </#resource>
                <#resource code="submitPaymentLeaseOrder">
                <button id="btn_submit" type="button" class="btn btn-primary" onclick="openSubmitPaymentHandler()"><i class="fa fa-paper-plane"></i> 提交</button>
                </#resource>
                <#resource code="withdrawLeaseOrder">
                <button id="btn_withdraw" type="button" class="btn btn-primary" onclick="openWithdrawHandler()"><i class="fa fa-undo"></i> 撤回</button>
                </#resource>
                <#resource code="refundApplyLeaseOrder">
                <button id="btn_refund_apply" type="button" class="btn btn-primary" onclick="openRefundApplyHandler(1)"><i class="fa fa-reply"></i> 退款申请</button>
                </#resource>
<!--
                <button id="export" type="button" class="btn btn-primary" onclick="bui.util.doExport('grid','queryForm')"><i class="fa fa-download"></i> 导出</button>
-->
            </div>
            <table id="grid" data-toggle="table" data-title="租赁单列表" class="table" data-toolbar="#toolbar" data-pagination="true" data-page-number="1" data-page-size="5"
                   data-query-params="queryParams" data-side-pagination="server" data-method="POST" data-content-type="application/x-www-form-urlencoded" data-single-select="true"
                   data-click-to-select="true"  data-checkbox-header="true" data-unique-id="id" data-sort-name="id" data-sort-order="desc"  data-icons="bui.variable.icons" data-buttons-class="primary"
                   data-show-refresh="true" data-show-fullscreen="true" data-show-columns="true" data-detail-view="true"
            >
                <thead>
                 <tr>
                    <th data-checkbox="true"></th>
                    <th data-field="code" data-sortable="true" data-align="center" data-width-unit="%" >
                        入库单号
                    </th>
                    <th data-field="type" data-sortable="true" data-align="center" data-sort-name="type" data-provider="leaseOrderStateProvider">
                        入库类型
                    </th>
                    <th data-field="departmentName" data-sortable="true" data-align="center">
                       部门
                    </th>
                    <th data-field="customerName" data-sortable="true" data-sort-name="customer_name" data-align="center">
                        客户名称
                    </th>
                    <th data-field="customerCellphone" data-sortable="true" data-align="center" >
                        联系电话
                    </th>
                     <th data-field="categoryName" data-sortable="true" data-sort-name="category_name" data-align="center">
                        货物品类
                    </th>
                    <th data-field="quantity" data-sortable="true" data-sort-name="quantity" data-align="center">
                        总件数
                    </th>
                    <th data-field="weight" data-sortable="true" data-sort-name="weight" data-align="center">
                        总净重
                    </th>
                                 <th data-field="weight" data-sortable="true" data-sort-name="weight" data-align="center">
                        单价
                    </th>
                    
                                 <th data-field="totalAmount" data-sortable="true" data-sort-name="total_amount" data-align="center">
                        总金额
                    </th>
                                 <th data-field="operatorName" data-sortable="true" data-sort-name="operator_name" data-align="center">
                        操作员
                    </th>
                    <th data-field="createDate" data-sortable="true" data-align="center" data-provider="dateProvider">
                        创建日期
                    </th>
                    <th data-field="stockInDate" data-sortable="true" data-align="center" data-provider="dateProvider">
                        入库日期
                    </th>
                    <th data-field="expireDate" data-sortable="true" data-align="center" data-provider="dateProvider">
                        到期日期
                    </th>
                    <th data-field="state" data-sortable="true" data-align="center" data-sort-name="State" data-provider="leaseOrderStateProvider">
                        业务状态
                    </th>
                    <th data-field="payState" data-sortable="true" data-align="center" data-sort-name="pay_state" data-provider="payStateProvider">
                        收费员
                    </th>
                    <th data-field="totalAmount" data-sortable="true" data-align="center" data-provider="moneyProvider">
                        缴费日期
                    </th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

</div>
</#bs4Body>
<#stock_indexJs />
