<#bs4Body> <!--<a href="javascript:;" id="goCustomerRegister">无此客户，点击注册</a>-->
<div class="container-fluid">
	<input type="hidden" id="_sourceChannel" value="<#config name='ia.source.channel.labour_order'/>">
	<form id="saveForm" role="form" novalidate>
		<input type="hidden" id="code" name="code" value="${labor.code!}" />
		<input type="hidden" id="actionType" name="actionType" value="add" />
		<div class="breadcrumb">
		 客户信息
		<%if(isNotEmpty(labor) && type != 'remodel' && type != 'renew'){%>
			 <a href="javascript:;" class="ml-2"
			id="getCustomer">刷卡获取</a>
		<% } %>
		 
			<a href="javascript:;" class="ml-auto"
			data-toggle="collapse" data-target="#customerInfo"
			aria-expanded="true" aria-controls="customerInfo">收起 <i
			class="fa fa-angle-double-up" aria-hidden="true"></i></a>
			</div>
			<div class="row row-cols-4 collapse show" id="customerInfo">
				<div class="form-group col">
					<label for="customerName">客户名称<i class="red">*</i></label>
					<#bautoCompleteProvider _hiddenDomainId="customerId"
						_hiddenDomainName="customerId" _displayDomainId="customerName"
						_displayDomainName="customerName" _placeholder=""
						_validatorMethod="isSelected"
						_optionVariable="customerNameAutoCompleteOptionV1" _value="${labor.customerId!}"  _text="${labor.customerName!}"  _required="true" />
				</div>
			
				<div class="form-group col">
					<label for="_certificateNumber">证件号码<i class="red">*</i></label> <input
						type="text" class="form-control" id="certificateNumber"
						name="certificateNumber" value="${labor.certificateNumber!}" required readonly/>
				</div>
				<div class="form-group col">
						<label for="">联系电话<i class="red">*</i></label> <input type="text"
							class="form-control isMobile rename" id="customerCellphone"
							name="customerCellphone" value="${labor.customerCellphone!}"
							required />
					</div>
				<div class="form-group col">
					<label for="">性别</label> <input type="text"
							class="form-control" id="customerGender"
							name="customerGender" value="${labor.customerGender!}"
							required />
				</div>
			</div>
		
<div class="breadcrumb">
	业务信息 <a href="javascript:;" class="ml-auto" data-toggle="collapse"
		data-target="#otherInfo" aria-expanded="true"
		aria-controls="otherInfo">收起 <i class="fa fa-angle-double-up"
		aria-hidden="true"></i></a>
</div>
<div class="row row-cols-4 collapse show" id="otherInfo">
	<div class="form-group col">
		<label for="departmentId">业务所属部门<i class="red">*</i></label> <select
			id="departmentId" name="departmentId" class="form-control" required></select>
		<#bcomboProvider _id="departmentId" _value="${labor.departmentId!}"
			_provider="authDepartmentProvider" />
	</div>
	<div class="form-group col">
		<label for="departmentId">马甲类型<i class="red">*</i></label> <select
			id="laborType" name="laborType" class="form-control" required></select>
		<#bcomboProvider _id="laborType" _value="${labor.laborType!}"
			_provider="dataDictionaryValueProvider"
			_queryParams='{dd_code:"labor_vest_type", required:true}' />
	</div>
	<div class="form-group col">
		<label for="departmentId">运营车型<i class="red">*</i></label> <select
			id="models" name="models" class="form-control remodel" required></select>
		<#bcomboProvider _id="models" _value="${labor.models!}"
			_provider="dataDictionaryValueProvider"
			_queryParams='{dd_code:"labor_car_type", required:true}' />
	</div>
	<div class="form-group col">
		<label for="departmentId">办理周期<i class="red">*</i></label> <select
			id="interval" name="interval" class="form-control renew" required>
		</select>
		<#bcomboProvider _id="interval" _value="${labor.interval!}"
			_provider="dataDictionaryValueProvider"
			_queryParams='{dd_code:"labor_interval", required:true}' />
	</div>
	<div class="form-group col">
		<label for="startTime">开始日期<i class="red">*</i></label> <input
			type="text" id="startDate" name="startDate"
			class="form-control laydate laystart renew" value="${labor.startDate!,localDateTimeFormat='yyyy-MM-dd'}"
			required>
	</div>
	<div class="form-group col">
		<label for="endTime">结束日期<i class="red">*</i></label> <input
			type="text" id="endDate" name="endDate"
			class="form-control laydate layend renew" value="${labor.endDate!,localDateTimeFormat='yyyy-MM-dd'}"
			required>
	</div>
	
	<%if(isNotEmpty(chargeItems) && chargeItems.~size>0){
		        for(item in chargeItems){
		        %>		        
		        <div class="form-group col">
					<label for="amount" class="">${item.chargeItem!}<i class="red">*</i></label> <input id="chargeItem_${item.id!}" type="number" class="form-control chargeItem money"
					 name="chargeItem_${item.id!}" chargeItem="${item.chargeItem!}" range="0 9999999.99" required  />				
		        </div>
		        <% } }%>
	<%if(isNotEmpty(labor.businessChargeItems) && labor.businessChargeItems.~size>0 && (type=='update')){
		        for(item in labor.businessChargeItems){
		        %>		        
		        <div class="form-group col">
					<label for="amount" class="">${item.chargeItemName!}<i class="red">*</i></label> <input id="chargeItem_${item.chargeItemId!}" type="number" class="form-control chargeItem money"
					 name="chargeItem_${item.chargeItemId!}" item-id="${item.id!}" chargeItem-version="${item.version!}" chargeItem="${item.chargeItemName!}" value = "<#centToYuan value='${item.amount!}'/>" range="0 9999999.99" required  />				
		        </div>
		        <% } }%>
</div>
<div class="breadcrumb">
	金额信息 <a href="javascript:;" class="ml-auto" data-toggle="collapse"
		data-target="#moneyInfo" aria-expanded="true"
		aria-controls="moneyInfo">收起 <i class="fa fa-angle-double-up"
		aria-hidden="true"></i></a>
</div>
<div class="row  row-cols-4 collapse show" id="moneyInfo">
	<div class="form-group col">
		<label for="amount" class="">合计金额<i class="red">*</i></label> <input
			id="amount" type="number" class="form-control floatReserve money renew"
			 name="amount" value = "<#centToYuan value='${labor.amount!0}'/>" range="0 9999999.99" required />
	</div>
</div>
<div class="row">
	<div class="form-group col-8">
		<label for="notes">备注</label>
		<textarea id="notes" class="form-control renew remodel rename" name="notes" rows="1"
			maxlength="100">${labor.notes!}</textarea>
	</div>
</div>
</form>
</div>
</#bs4Body>
<#js_customerAutocompleteJs />
<#labor_addJs />
