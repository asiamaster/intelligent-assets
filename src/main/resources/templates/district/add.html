<form id="addForm">
    <div class="form-group row">
        <label for="number" class="col-sm-2 col-form-label">区域编号</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="number" id="number" digits="true" maxlength="4"/>
        </div>
    </div>
    <div class="form-group row">
        <label for="addForm_name" class="col-sm-2 col-form-label">区域名称</label>
        <div class="col-sm-10">
            <input type="text" id="addForm_name" name="name" class="form-control" maxlength="20"
                   required/>
        </div>
    </div>
    <div class="form-group row">
        <label for="departmentId" class="col-sm-2 col-form-label">部门</label>
        <div class="col-sm-10">
            <select id="departmentId" name="departmentId">
                <option value="1">部门1</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="notes">备注</label>
        <textarea class="form-control" id="notes" name="notes" rows="1"></textarea>
    </div>
    <div class="text-right">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="cancel">取消</button>
        <button type="button" class="btn btn-primary" id="form-submit" onclick="saveOrUpdateHandler()">提交</button>
    </div>
</form>
<script type="text/javascript">
    $(function () {
        $("#addForm").validate();
    });

    var okButton = $("#form-submit");

    function saveOrUpdateHandler() {
        if ($("#addForm").valid()) {
            okButton.attr("disabled", "disabled");
            $.ajax({
                type: "POST",
                dataType: "json",
                url: '/district/insert.action',
                data: $("#addForm").serialize(),
                success: function (data) {
                    if (data.code != '200') {
                        tips("提示", data.message);
                        okButton.removeAttr("disabled");
                        return;
                    }
                    $('#addModal').modal('hide');
                    tips("提示", "区域信息新增成功!");
                    okButton.removeAttr("disabled");
                },
                error: function () {
                    okButton.removeAttr("disabled");
                    tips("提示", "区域信息新增失败!");
                }
            });
        }
    }
</script>